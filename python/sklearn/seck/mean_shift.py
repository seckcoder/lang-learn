
import numpy as np
from sklearn.cluster import MeanShift, estimate_bandwidth
from sklearn.datasets.samples_generator import make_blobs
from sklearn.utils import safe_asarray

centers = [[1, 1], [-1, -1], [1, -1]]
X, _ = make_blobs(n_samples=100, centers=centers, cluster_std=0.6)

X = [[ 0.49321842, -1.80308968],
 [ 1.72027425,  0.2578666 ],
 [ 0.63941003,  1.51166174],
 [ 2.21187617, -0.84722811],
 [ 0.84855194,  1.19006084],
 [ 0.7653716,   0.48452316],
 [-1.0650691,   0.49583704],
 [-1.49562267, -1.69945632],
 [ 0.89771634,  0.92018988],
 [ 1.61143773,  0.30212832],
 [ 1.70324551, -0.88383889],
 [ 1.09798991,  0.55322724],
 [ 1.44220618,  1.51484841],
 [ 0.76615587,  0.70536077],
 [ 1.72148623, -1.5120227 ],
 [-1.92109559, -1.34486048],
 [ 0.6301775,   1.22450309],
 [ 1.03612451, -1.17831353],
 [-0.64361435, -2.06682333],
 [ 1.30644596, -0.74117958],
 [ 0.13272641, -0.75211878],
 [-0.8715326,  -1.23192143],
 [ 0.09403482,  1.94637568],
 [-2.4078074,  -1.13422591],
 [-1.99385969, -1.80269117],
 [ 0.52546949, -2.06306647],
 [ 0.61030027, -1.77491227],
 [-1.17688417, -1.9876688 ],
 [ 0.09551221,  0.55974709],
 [ 1.46147616,  1.5242735 ],
 [ 1.27600765, -1.61845293],
 [ 0.82254454,  0.74562931],
 [ 0.47719102, -1.73695114],
 [ 1.23454199,  0.65157712],
 [ 1.39376354, -0.56505661],
 [ 1.32923225,  1.23500954],
 [-1.09913707, -0.45542018],
 [ 0.83684978,  0.78012189],
 [ 0.38573895,  0.44240943],
 [ 1.318876,   -0.60400028],
 [ 1.94899285, -1.02572624],
 [-0.71197821, -1.22291478],
 [ 2.165979,    1.655125  ],
 [ 0.95947836,  0.54132081],
 [ 1.99960106,  0.06895225],
 [ 1.04702868, -1.70067053],
 [-1.85829174, -1.6797275 ],
 [ 1.27974345,  1.50831583],
 [ 1.23965681,  1.55955528],
 [-2.04446368, -1.79718838],
 [ 0.54214226, -1.48392358],
 [-0.6531289,  -1.78052836],
 [-0.07770145,  1.71708734],
 [-1.19604801, -0.40576546],
 [ 2.25974142, -1.59158528],
 [-1.02826429,  0.36189095],
 [ 0.52018334,  0.69958225],
 [ 0.77683354, -0.15608421],
 [ 0.41029394, -1.19968967],
 [-0.56558014, -1.06599393],
 [-0.05623262, -1.66922998],
 [-1.87865372, -2.48504314],
 [ 1.09019286, -1.07416522],
 [ 1.28657599,  0.67903676],
 [ 0.96861323,  2.47708856],
 [ 1.4849992,   0.00265737],
 [ 0.5305297,  -2.18441522],
 [-0.1046137,  -1.58211794],
 [ 0.39080669,  1.19722924],
 [-0.60497752, -1.36178169],
 [ 1.36378226, -1.53281201],
 [-1.4397144,  -1.163985  ],
 [-0.46200491, -0.89181726],
 [-1.42810502, -1.14024272],
 [ 0.49620368, -0.42242037],
 [ 0.89767201, -0.3694271 ],
 [-0.77986977, -1.40046046],
 [ 1.43442242, -1.39805481],
 [ 0.62826418,  0.95400535],
 [ 1.56124392, -0.33212763],
 [ 0.89568747, -0.51188318],
 [ 1.04355076,  0.78701206],
 [-0.14809284, -0.85176897],
 [ 0.80370487,  0.37096553],
 [-1.37496965, -0.26855528],
 [ 0.43232899, -0.86453442],
 [ 0.26551972, -0.52748602],
 [-0.71613885, -1.67219803],
 [-1.1508754,  -0.84463093],
 [ 0.57204618, -0.11031915],
 [ 2.32416009, -1.88625748],
 [ 1.88126616,  1.54628757],
 [ 0.71425139,  2.07374798],
 [-0.52405951, -1.02460704],
 [ 1.00767888,  0.93742334],
 [-1.41500546, -1.68304715],
 [ 0.23472175,  0.75076249],
 [ 0.38353232,  0.52369016],
 [-1.08196752, -1.00545824],
 [-0.0435215,  -0.9002513 ]];


#X = [[ 0.71425139,  2.07374798],
    #[-0.52405951, -1.02460704],
    #[ 1.00767888,  0.93742334],
    #[-1.41500546, -1.68304715],
    #[ 0.23472175,  0.75076249],
    #[ 0.38353232,  0.52369016],
    #[-1.08196752, -1.00545824],
    #[-0.0435215,  -0.9002513 ]];

X = safe_asarray(X);
#bandwidth = estimate_bandwidth(X, quantile=0.2, n_samples=10)
bandwidth = 0.830430037949;
ms = MeanShift(bandwidth=bandwidth, bin_seeding=True);
ms.fit(X)
